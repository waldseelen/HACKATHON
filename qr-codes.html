<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LogSense AI - QR Kodlar</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            margin: 0;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            text-align: center;
        }

        h1 {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
            margin-bottom: 50px;
        }

        .qr-section {
            display: flex;
            justify-content: center;
            gap: 40px;
            flex-wrap: wrap;
        }

        .qr-card {
            background: white;
            color: #333;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s;
            min-width: 350px;
        }

        .qr-card:hover {
            transform: translateY(-10px);
        }

        .qr-card h2 {
            color: #667eea;
            margin-top: 0;
            font-size: 1.8em;
        }

        .qr-card img {
            border: 5px solid #f0f0f0;
            border-radius: 10px;
            margin: 20px 0;
            max-width: 100%;
            height: auto;
        }

        .description {
            color: #666;
            line-height: 1.6;
            margin: 15px 0;
        }

        .steps {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            text-align: left;
        }

        .steps h3 {
            color: #667eea;
            margin-top: 0;
        }

        .steps ol {
            margin: 10px 0;
            padding-left: 20px;
        }

        .steps li {
            margin: 8px 0;
            color: #555;
        }

        .badge {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            margin-top: 10px;
        }

        .footer {
            margin-top: 60px;
            opacity: 0.8;
            font-size: 0.9em;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>ğŸš€ LogSense AI</h1>
        <p class="subtitle">Mobil Uygulama BaÄŸlantÄ± QR KodlarÄ±</p>

        <div class="qr-section">
            <!-- Expo Mobile App QR -->
            <div class="qr-card">
                <h2>ğŸ“± Mobil Uygulama</h2>
                <img src="http://localhost:8000/qr/mobile" alt="Expo Mobile QR" id="mobile-qr">
                <div class="description">
                    Bu QR kodu Expo Go uygulamasÄ±nda tarayÄ±n
                </div>
                <div class="badge">Expo Development</div>

                <div class="steps">
                    <h3>NasÄ±l KullanÄ±lÄ±r?</h3>
                    <ol>
                        <li>Telefonunuza <strong>Expo Go</strong> uygulamasÄ±nÄ± indirin</li>
                        <li>UygulamayÄ± aÃ§Ä±n ve <strong>"Scan QR Code"</strong> seÃ§eneÄŸini tÄ±klayÄ±n</li>
                        <li>Bu QR kodu tarayÄ±n</li>
                        <li>LogSense AI mobil uygulamasÄ± yÃ¼klenecek! ğŸ‰</li>
                    </ol>
                </div>
            </div>

            <!-- Backend API QR -->
            <div class="qr-card">
                <h2>âš™ï¸ Backend API</h2>
                <img src="http://localhost:8000/qr" alt="Backend API QR" id="backend-qr">
                <div class="description">
                    Backend API endpoint URL'i
                </div>
                <div class="badge">API Configuration</div>

                <div class="steps">
                    <h3>API Bilgileri</h3>
                    <ol>
                        <li>Backend URL: <code id="backend-url">YÃ¼kleniyor...</code></li>
                        <li>Health Check: <code>/health</code></li>
                        <li>Alerts: <code>/alerts</code></li>
                        <li>Logs: <code>/logs/recent</code></li>
                    </ol>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>ğŸ’¡ Not: Her iki cihazÄ±n da aynÄ± aÄŸda olduÄŸundan emin olun</p>
            <p>ğŸ”„ QR kodlarÄ± otomatik gÃ¼ncellenir â€¢ Backend Status: <span id="status">Kontrol ediliyor...</span></p>
        </div>
    </div>

    <script>
        // Backend health check
        async function checkHealth() {
            try {
                const response = await fetch('http://localhost:8000/health');
                const data = await response.json();
                document.getElementById('status').textContent = 'âœ… Ã‡alÄ±ÅŸÄ±yor';
                document.getElementById('status').style.color = '#4ade80';
            } catch (error) {
                document.getElementById('status').textContent = 'âŒ BaÄŸlantÄ± HatasÄ±';
                document.getElementById('status').style.color = '#f87171';
            }
        }

        // Get backend info
        async function getBackendInfo() {
            try {
                const response = await fetch('http://localhost:8000/');
                const data = await response.json();
                // Extract IP from QR endpoint or default
                document.getElementById('backend-url').textContent = 'http://localhost:8000';
            } catch (error) {
                document.getElementById('backend-url').textContent = 'http://localhost:8000';
            }
        }

        // Run on load
        checkHealth();
        getBackendInfo();

        // Refresh health every 30 seconds
        setInterval(checkHealth, 30000);
    </script>
</body>

</html>
